# File browser for the pfiga system

The pfiga system will save many files locally. Many of these files are not in the form of notes, and a quick and easy way to search/browse these files is needed. We use a simple approach to build a file browser for these files. Note that for different folders, we can use different approaches to suit the application well.

A fundamental component of these file browsers is the Sphinx documentation system. 

## File browser for the graphics files

Eventually, there will be many graphics files in our note system, and it is impossible---and not necessary---for us to memorize all the graphics files. As such, we need to have a way to browse all the graphics files.

A simple idea is to use something like the Linux “tree” command, which can display all the files in the graphics folder. Yet, the current tree cannot provide us with enough information about each file. We need to have a more advanced file browser that can display the contents---the figures---of the files. We should also be able to search for keywords about the graphics files. 

To this end, we can use the Sphinx-doc system. We just need to include a first-level readme file, `01readme.rst`, in the 4gr subfolder, which has the following contents: 
```
4gr
####

.. toctree::
    :maxdepth: 2
    :caption: Contents:

    folder_figs/02readme
    more_figs/02readme
```

Note that:
* There are two subfolders in this 4gr folder, each as a second level readme file, `02readme.rst`, to describe the images. 
* The contents starting from `folder_figs/02readme` should be generated by the `browser` tool automatically. 
* When we create a new subfolder with its second-level readme file, we need to run the `browser` tool before building the browser webpage. 

The second-level readme file in each subfolder describes the contents of that subfolder. Note that all graphics files in a subfolder should be related to each other. We can have a general description of all the files. Then, we need to have a description for each figure. By running Sphinx, we can produce HTML files for all the graphics files. Note that we only display a reasonably-sized icon for each graphics file to facilitate the browsing of the files.

Below is an illustration of the `folder_figs/02readme.rst` file: 
```
folder_figs 
###########################

All figures here are related to the display of folder structures 
in a computer system. Specifically, we have the following ones:

**img01.png**. This is a screenshot of the structure of the 4gr folder.  
Suggested captions: 

- Structure of the local 4gr folder.
- Folders and files in the 4gr folder.

.. image:: img01.png
   :width: 300

**img02.png**. This is a screenshot of the structure of the local 3fn folder. 
There is an img02a.png file; no need to include this file. Suggested captions: 

- A sample of files for Flex-C-Notes.
- Flex-C-Notes in the 2fn folder.
   
.. image:: img02.png
   :width: 300
```

Note that:
* We do not have to confine the number of columns to 80, a requirement for the programming.
* When we have created a new image file, we can run the `addimg` tool to include the image in this file according to alphabetic order. This tool saves a copy of this second-level readme file before processing it. This way, we always have a backup even if the tool crashes. This tool will not remove the current contents; it just add new image files. To remove old and/or unused images, we have to manually edit the file.
* After the addition of new image files, we need to add the descriptions to these files in a similar way to that shown above. 

## File browser for the project and archive files

We can use the same approach to build the browser for projects and archives of our system. The only difference between these browsers and the graphics browser is that the former is simpler. 

We should still be able to use the above `browser` tool to add new folders to the top-level readme file. There is no need to automatically add contents to the second-level readme files and more.  

Below is an example of the second level readme file: 
```
proj1
###########################

This is the readme file for this proj1 file. This file should have a very 
detailed description of this project and the subfolders of this folder.

If we need to use more detailed descriptions for this project, 
we can use Markdown notes in the doc subfolder. 
```
